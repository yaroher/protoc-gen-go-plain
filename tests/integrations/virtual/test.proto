syntax = "proto3";

package test.virtual;

import "goplain/goplain.proto";
import "google/protobuf/type.proto";

option go_package = "github.com/yaroher/protoc-gen-go-plain/tests/integrations/virtual;virtual";

message Address {
  string street = 1;
}

enum Status {
  STATUS_UNSPECIFIED = 0;
  STATUS_ACTIVE = 1;
}

message User {
  option (goplain.message).generate = true;
  option (goplain.message).virtual_fields = {
    name: "virt_addr"
    kind: TYPE_MESSAGE
    type_url: ".test.virtual.Address"
  };
  option (goplain.message).virtual_fields = {
    name: "virt_status"
    kind: TYPE_ENUM
    type_url: ".test.virtual.Status"
  };

  string name = 1;
}
