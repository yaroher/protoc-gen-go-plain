// Code generated by protoc-gen-go-plain. DO NOT EDIT.

package crf

import (
	"bytes"
	"encoding/json"
	"fmt"
	"github.com/go-faster/jx"
	"github.com/google/uuid"
)

func jxEncodeError(field string) error {
	return fmt.Errorf("jx: encode %s", field)
}
func jxDecodeError(field string, err error) error {
	return fmt.Errorf("jx: decode %s: %w", field, err)
}

func (x *EventPlain) MarshalJSON() ([]byte, error) {
	if x == nil {
		return []byte("null"), nil
	}
	e := jx.GetEncoder()
	defer jx.PutEncoder(e)
	if e.ObjStart() {
		return nil, jxEncodeError("EventPlain")
	}
	if e.FieldStart("eventVirtualType") {
		return nil, jxEncodeError("eventVirtualType")
	}
	e.Str(x.EventVirtualType)
	if x.Process != nil {
		if e.FieldStart("process") {
			return nil, jxEncodeError("process")
		}
		if x.Process == nil {
			e.Null()
		} else {
			raw, err := x.Process.MarshalJSON()
			if err != nil {
				return nil, jxEncodeError("Process")
			}
			e.Raw(raw)
		}
	}
	if x.Path != nil {
		if e.FieldStart("path") {
			return nil, jxEncodeError("path")
		}
		if x.Path == nil {
			e.Null()
		} else {
			e.Str(*x.Path)
		}
	}
	if e.FieldStart("pathCRF") {
		return nil, jxEncodeError("pathCRF")
	}
	e.Str(x.PathCRF)
	if x.OtherEvent != nil {
		if e.FieldStart("otherEvent") {
			return nil, jxEncodeError("otherEvent")
		}
		if x.OtherEvent == nil {
			e.Null()
		} else {
			e.Str(*x.OtherEvent)
		}
	}
	if x.NonPlatformEventCustomEvent != nil {
		if e.FieldStart("nonPlatformEventCustomEvent") {
			return nil, jxEncodeError("nonPlatformEventCustomEvent")
		}
		if x.NonPlatformEventCustomEvent == nil {
			e.Null()
		} else {
			e.Str(*x.NonPlatformEventCustomEvent)
		}
	}
	if e.FieldStart("parentEventId") {
		return nil, jxEncodeError("parentEventId")
	}
	e.Str(x.ParentEventId)
	if e.FieldStart("eventId") {
		return nil, jxEncodeError("eventId")
	}
	e.Int32(x.EventId)
	if e.FieldStart("someEventStringPayload") {
		return nil, jxEncodeError("someEventStringPayload")
	}
	raw, err := json.Marshal(x.SomeEventStringPayload)
	if err != nil {
		return nil, jxEncodeError("someEventStringPayload")
	}
	e.Raw(raw)
	if e.FieldStart("nonPlatformEventPath") {
		return nil, jxEncodeError("nonPlatformEventPath")
	}
	e.Str(x.NonPlatformEventPath)
	if e.ObjEnd() {
		return nil, jxEncodeError("EventPlain")
	}
	buf := append([]byte(nil), e.Bytes()...)
	return buf, nil
}

func (x *EventPlain) UnmarshalJSON(data []byte) error {
	if x == nil {
		return fmt.Errorf("jx: nil receiver")
	}
	d := jx.DecodeBytes(data)
	return d.Obj(func(d *jx.Decoder, key string) error {
		switch key {
		case "eventVirtualType":
			val, err := (*jx.Decoder).Str(d)
			if err != nil {
				return jxDecodeError("EventVirtualType", err)
			}
			x.EventVirtualType = val
			return nil
		case "process":
			if d.Next() == jx.Null {
				if err := d.Null(); err != nil {
					return jxDecodeError("Process", err)
				}
				x.Process = nil
				return nil
			}
			raw, err := d.Raw()
			if err != nil {
				return jxDecodeError("Process", err)
			}
			var outVal ProcessPlain
			if err := outVal.UnmarshalJSON(raw); err != nil {
				return jxDecodeError("Process", err)
			}
			x.Process = &outVal
			return nil
		case "path":
			if d.Next() == jx.Null {
				if err := d.Null(); err != nil {
					return jxDecodeError("Path", err)
				}
				x.Path = nil
				return nil
			}
			val, err := (*jx.Decoder).Str(d)
			if err != nil {
				return jxDecodeError("Path", err)
			}
			x.Path = &val
			return nil
		case "pathCRF":
			val, err := (*jx.Decoder).Str(d)
			if err != nil {
				return jxDecodeError("PathCRF", err)
			}
			x.PathCRF = val
			return nil
		case "otherEvent":
			if d.Next() == jx.Null {
				if err := d.Null(); err != nil {
					return jxDecodeError("OtherEvent", err)
				}
				x.OtherEvent = nil
				return nil
			}
			val, err := (*jx.Decoder).Str(d)
			if err != nil {
				return jxDecodeError("OtherEvent", err)
			}
			x.OtherEvent = &val
			return nil
		case "nonPlatformEventCustomEvent":
			if d.Next() == jx.Null {
				if err := d.Null(); err != nil {
					return jxDecodeError("NonPlatformEventCustomEvent", err)
				}
				x.NonPlatformEventCustomEvent = nil
				return nil
			}
			val, err := (*jx.Decoder).Str(d)
			if err != nil {
				return jxDecodeError("NonPlatformEventCustomEvent", err)
			}
			x.NonPlatformEventCustomEvent = &val
			return nil
		case "parentEventId":
			val, err := (*jx.Decoder).Str(d)
			if err != nil {
				return jxDecodeError("ParentEventId", err)
			}
			x.ParentEventId = val
			return nil
		case "eventId":
			val, err := (*jx.Decoder).Int32(d)
			if err != nil {
				return jxDecodeError("EventId", err)
			}
			x.EventId = val
			return nil
		case "someEventStringPayload":
			raw, err := d.Raw()
			if err != nil {
				return jxDecodeError("SomeEventStringPayload", err)
			}
			var outVal uuid.UUID
			if err := json.Unmarshal(raw, &outVal); err != nil {
				return jxDecodeError("SomeEventStringPayload", err)
			}
			x.SomeEventStringPayload = outVal
			return nil
		case "nonPlatformEventPath":
			val, err := (*jx.Decoder).Str(d)
			if err != nil {
				return jxDecodeError("NonPlatformEventPath", err)
			}
			x.NonPlatformEventPath = val
			return nil
		default:
			return d.Skip()
		}
	})
}

func (x *EventDataPlain) MarshalJSON() ([]byte, error) {
	if x == nil {
		return []byte("null"), nil
	}
	e := jx.GetEncoder()
	defer jx.PutEncoder(e)
	if e.ObjStart() {
		return nil, jxEncodeError("EventDataPlain")
	}
	if x.Path != nil {
		if e.FieldStart("path") {
			return nil, jxEncodeError("path")
		}
		if x.Path == nil {
			e.Null()
		} else {
			e.Str(*x.Path)
		}
	}
	if e.FieldStart("pathCRF") {
		return nil, jxEncodeError("pathCRF")
	}
	e.Str(x.PathCRF)
	if x.OtherEvent != nil {
		if e.FieldStart("otherEvent") {
			return nil, jxEncodeError("otherEvent")
		}
		if x.OtherEvent == nil {
			e.Null()
		} else {
			e.Str(*x.OtherEvent)
		}
	}
	if x.NonPlatformEventCustomEvent != nil {
		if e.FieldStart("nonPlatformEventCustomEvent") {
			return nil, jxEncodeError("nonPlatformEventCustomEvent")
		}
		if x.NonPlatformEventCustomEvent == nil {
			e.Null()
		} else {
			e.Str(*x.NonPlatformEventCustomEvent)
		}
	}
	if e.FieldStart("nonPlatformEventPath") {
		return nil, jxEncodeError("nonPlatformEventPath")
	}
	e.Str(x.NonPlatformEventPath)
	if e.FieldStart("noRemovedOneof") {
		return nil, jxEncodeError("noRemovedOneof")
	}
	if x.NoRemovedOneof == nil {
		e.Null()
	} else {
		raw, err := json.Marshal(x.NoRemovedOneof)
		if err != nil {
			return nil, jxEncodeError("noRemovedOneof")
		}
		e.Raw(raw)
	}
	if e.ObjEnd() {
		return nil, jxEncodeError("EventDataPlain")
	}
	buf := append([]byte(nil), e.Bytes()...)
	return buf, nil
}

func (x *EventDataPlain) UnmarshalJSON(data []byte) error {
	if x == nil {
		return fmt.Errorf("jx: nil receiver")
	}
	d := jx.DecodeBytes(data)
	return d.Obj(func(d *jx.Decoder, key string) error {
		switch key {
		case "path":
			if d.Next() == jx.Null {
				if err := d.Null(); err != nil {
					return jxDecodeError("Path", err)
				}
				x.Path = nil
				return nil
			}
			val, err := (*jx.Decoder).Str(d)
			if err != nil {
				return jxDecodeError("Path", err)
			}
			x.Path = &val
			return nil
		case "pathCRF":
			val, err := (*jx.Decoder).Str(d)
			if err != nil {
				return jxDecodeError("PathCRF", err)
			}
			x.PathCRF = val
			return nil
		case "otherEvent":
			if d.Next() == jx.Null {
				if err := d.Null(); err != nil {
					return jxDecodeError("OtherEvent", err)
				}
				x.OtherEvent = nil
				return nil
			}
			val, err := (*jx.Decoder).Str(d)
			if err != nil {
				return jxDecodeError("OtherEvent", err)
			}
			x.OtherEvent = &val
			return nil
		case "nonPlatformEventCustomEvent":
			if d.Next() == jx.Null {
				if err := d.Null(); err != nil {
					return jxDecodeError("NonPlatformEventCustomEvent", err)
				}
				x.NonPlatformEventCustomEvent = nil
				return nil
			}
			val, err := (*jx.Decoder).Str(d)
			if err != nil {
				return jxDecodeError("NonPlatformEventCustomEvent", err)
			}
			x.NonPlatformEventCustomEvent = &val
			return nil
		case "nonPlatformEventPath":
			val, err := (*jx.Decoder).Str(d)
			if err != nil {
				return jxDecodeError("NonPlatformEventPath", err)
			}
			x.NonPlatformEventPath = val
			return nil
		case "noRemovedOneof":
			raw, err := d.Raw()
			if err != nil {
				return jxDecodeError("noRemovedOneof", err)
			}
			if bytes.Equal(raw, []byte("null")) {
				x.NoRemovedOneof = nil
				return nil
			}
			var payload map[string]json.RawMessage
			if err := json.Unmarshal(raw, &payload); err != nil {
				return jxDecodeError("noRemovedOneof", err)
			}
			if _, ok := payload["notRemovedFile"]; ok {
				var wrapper EventData_NotRemovedFile
				if err := json.Unmarshal(raw, &wrapper); err != nil {
					return jxDecodeError("noRemovedOneof", err)
				}
				x.NoRemovedOneof = &wrapper
				return nil
			}
			if _, ok := payload["noRemove"]; ok {
				var wrapper EventData_NoRemove
				if err := json.Unmarshal(raw, &wrapper); err != nil {
					return jxDecodeError("noRemovedOneof", err)
				}
				x.NoRemovedOneof = &wrapper
				return nil
			}
			return nil
		default:
			return d.Skip()
		}
	})
}

func (x *FilePlain) MarshalJSON() ([]byte, error) {
	if x == nil {
		return []byte("null"), nil
	}
	e := jx.GetEncoder()
	defer jx.PutEncoder(e)
	if e.ObjStart() {
		return nil, jxEncodeError("FilePlain")
	}
	if e.FieldStart("path") {
		return nil, jxEncodeError("path")
	}
	e.Str(x.Path)
	if e.ObjEnd() {
		return nil, jxEncodeError("FilePlain")
	}
	buf := append([]byte(nil), e.Bytes()...)
	return buf, nil
}

func (x *FilePlain) UnmarshalJSON(data []byte) error {
	if x == nil {
		return fmt.Errorf("jx: nil receiver")
	}
	d := jx.DecodeBytes(data)
	return d.Obj(func(d *jx.Decoder, key string) error {
		switch key {
		case "path":
			val, err := (*jx.Decoder).Str(d)
			if err != nil {
				return jxDecodeError("Path", err)
			}
			x.Path = val
			return nil
		default:
			return d.Skip()
		}
	})
}

func (x *FileCreatePlain) MarshalJSON() ([]byte, error) {
	if x == nil {
		return []byte("null"), nil
	}
	e := jx.GetEncoder()
	defer jx.PutEncoder(e)
	if e.ObjStart() {
		return nil, jxEncodeError("FileCreatePlain")
	}
	if e.FieldStart("path") {
		return nil, jxEncodeError("path")
	}
	e.Str(x.Path)
	if e.ObjEnd() {
		return nil, jxEncodeError("FileCreatePlain")
	}
	buf := append([]byte(nil), e.Bytes()...)
	return buf, nil
}

func (x *FileCreatePlain) UnmarshalJSON(data []byte) error {
	if x == nil {
		return fmt.Errorf("jx: nil receiver")
	}
	d := jx.DecodeBytes(data)
	return d.Obj(func(d *jx.Decoder, key string) error {
		switch key {
		case "path":
			val, err := (*jx.Decoder).Str(d)
			if err != nil {
				return jxDecodeError("Path", err)
			}
			x.Path = val
			return nil
		default:
			return d.Skip()
		}
	})
}

func (x *FileRenamePlain) MarshalJSON() ([]byte, error) {
	if x == nil {
		return []byte("null"), nil
	}
	e := jx.GetEncoder()
	defer jx.PutEncoder(e)
	if e.ObjStart() {
		return nil, jxEncodeError("FileRenamePlain")
	}
	if e.FieldStart("path") {
		return nil, jxEncodeError("path")
	}
	e.Str(x.Path)
	if e.ObjEnd() {
		return nil, jxEncodeError("FileRenamePlain")
	}
	buf := append([]byte(nil), e.Bytes()...)
	return buf, nil
}

func (x *FileRenamePlain) UnmarshalJSON(data []byte) error {
	if x == nil {
		return fmt.Errorf("jx: nil receiver")
	}
	d := jx.DecodeBytes(data)
	return d.Obj(func(d *jx.Decoder, key string) error {
		switch key {
		case "path":
			val, err := (*jx.Decoder).Str(d)
			if err != nil {
				return jxDecodeError("Path", err)
			}
			x.Path = val
			return nil
		default:
			return d.Skip()
		}
	})
}

func (x *ProcessPlain) MarshalJSON() ([]byte, error) {
	if x == nil {
		return []byte("null"), nil
	}
	e := jx.GetEncoder()
	defer jx.PutEncoder(e)
	if e.ObjStart() {
		return nil, jxEncodeError("ProcessPlain")
	}
	if x.File != nil {
		if e.FieldStart("file") {
			return nil, jxEncodeError("file")
		}
		if x.File == nil {
			e.Null()
		} else {
			raw, err := x.File.MarshalJSON()
			if err != nil {
				return nil, jxEncodeError("File")
			}
			e.Raw(raw)
		}
	}
	if e.ObjEnd() {
		return nil, jxEncodeError("ProcessPlain")
	}
	buf := append([]byte(nil), e.Bytes()...)
	return buf, nil
}

func (x *ProcessPlain) UnmarshalJSON(data []byte) error {
	if x == nil {
		return fmt.Errorf("jx: nil receiver")
	}
	d := jx.DecodeBytes(data)
	return d.Obj(func(d *jx.Decoder, key string) error {
		switch key {
		case "file":
			if d.Next() == jx.Null {
				if err := d.Null(); err != nil {
					return jxDecodeError("File", err)
				}
				x.File = nil
				return nil
			}
			raw, err := d.Raw()
			if err != nil {
				return jxDecodeError("File", err)
			}
			var outVal FilePlain
			if err := outVal.UnmarshalJSON(raw); err != nil {
				return jxDecodeError("File", err)
			}
			x.File = &outVal
			return nil
		default:
			return d.Skip()
		}
	})
}
